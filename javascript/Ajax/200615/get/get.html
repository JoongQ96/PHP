<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Ajax</title>
</head>
<body>

<script>
    function execHttpRequest() {
        let xmlHttpReq = new XMLHttpRequest();

        xmlHttpReq.onreadystatechange = function() {
            if(xmlHttpReq.readyState == 4) {
                let statusElement = document.getElementById("status");
                statusElement.innerText = xmlHttpReq.responseText;
            }
        }
        // GET 방식 DATA 전달
        // HTTP Request를 GET 방식으로 서버 전송 시, 서버에 전달 하고자 하는 변수는 아래 형식으로 구성
        // 변수명=변수 값, 두 개 이상의 변수 전달 시 & 를 이용
        // 정의된 변수는 URL에 ? 연산자를 이용하여 전달한다.
        // 예) myajax2.php?name=jung&age=20 -->> myajax2.php 파일 요청 시, name, age 변수 서버로 전달
        // GET은 사용 방법이 간편하다는 장점이 있으나, 보안상 문제로 POST 사용을 권함
        var myData = 'name=정영철&age=22';                     // name, age 변수를 "정영철",22로 설정
        xmlHttpReq.open("GET", "myajax2.php?"+myData, true);  // myajax2.php?name=정영철&age=22
        xmlHttpReq.send();
    }
</script>
<fieldset style="width:400px">
    <legend>Ajax HTTP Request GET 전송 예제</legend>
    <!-- 버튼 클릭 시, execHttpRequest() 자바스크립트 함수 실행 -->
    <input type="button" id="ajaxTest" value="Async HTTP GET 전송" onclick="execHttpRequest()"><br>
    <div id="status"></div>
</fieldset>

</body>
</html>
